---
opt_global:
  chroot: /var/lib/haproxy
  log:
    - bind: 127.0.0.1
      facility: local0
    - bind: 127.0.0.1
      facility: local1
      level: notice
  maxconn: 4096
  user: haproxy
  group: haproxy
  daemon: true

opt_defaults:
#  log: global
  mode: http
  retries: 3
  options:
   - httplog
   - dontlognull
   - http-server-close
   - forwardfor except 127.0.0.0/8
   - redispatch
  timeout:
   - name: http-request
     value: 10s
   - name: queue
     value: 1m
   - name: connect
     value: 10s
   - name: client
     value: 1m
   - name: server
     value: 1m
   - name: http-keep-alive
     value: 10s
   - name: check
     value: 10s
  errorfile:
   - name: 400
     file: /etc/haproxy/errors/400.http
   - name: 403
     file: /etc/haproxy/errors/403.http
   - name: 408
     file: /etc/haproxy/errors/408.http
   - name: 500
     file: /etc/haproxy/errors/500.http
   - name: 502
     file: /etc/haproxy/errors/502.http
   - name: 503
     file: /etc/haproxy/errors/503.http
   - name: 504
     file: /etc/haproxy/errors/504.http

#
# Those default options are based on the following config file (/etc/haproxy/haproxy.cfg)
#
#
#global
#	log 127.0.0.1   local0
#	log 127.0.0.1   local1 notice
#	chroot /var/lib/haproxy
#	maxconn         4096
#	user            haproxy
#	group           haproxy
#	daemon
#
#defaults
#	log				global
#	mode            http
#	option                  httplog
#	option                  dontlognull
#	option http-server-close
#	option forwardfor       except 127.0.0.0/8
#	option                  redispatch
#	retries                 3
#	timeout http-request    10s
#	timeout queue           1m
#	timeout connect         10s
#	timeout client          1m
#	timeout server          1m
#	timeout http-keep-alive 10s
#	timeout check           10s
#	maxconn                 3000
#	errorfile 400 /etc/haproxy/errors/400.http
#	errorfile 403 /etc/haproxy/errors/403.http
#	errorfile 408 /etc/haproxy/errors/408.http
#	errorfile 500 /etc/haproxy/errors/500.http
#	errorfile 502 /etc/haproxy/errors/502.http
#	errorfile 503 /etc/haproxy/errors/503.http
#	errorfile 504 /etc/haproxy/errors/504.http