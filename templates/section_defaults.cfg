defaults
{% if haproxy_defaults.mode is defined %}
    mode {{ haproxy_defaults.mode }}
{% endif -%}
{% if haproxy_defaults.log is defined %}
{% for log in haproxy_defaults.log %}
{% if log.bind is defined %}
    log {{ log.bind }} {{ log.facility }}{% if log.level is defined %} {{log.level }}{% endif %}
{% else %}
    log {{ log }}
{% endif %}

{% endfor %}
{% endif %}
{% if haproxy_defaults.retries is defined %}
    retries {{ haproxy_defaults.retries }}
{% endif -%}
{% if haproxy_defaults.timeout is defined -%}
{% for item in haproxy_defaults.timeout %}
    timeout {{ item }}
{% endfor %}
{% endif -%}
{% if haproxy_defaults.options is defined -%}
{% for option in haproxy_defaults.options %}
    option {{ option }}
{% endfor %}
{% endif -%}
{% if haproxy_defaults.errorfile is defined -%}
{% for error in haproxy_defaults.errorfile %}
    errorfile {{ error }}
{% endfor %}
{% endif -%}